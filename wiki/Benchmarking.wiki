= Introduction =
Started with <a href="http://www.eishay.com/search/label/protobuf">few blog posts</a> and with the help of many contributes, this project is now benchmarking much more then just protobuf and thrift. Thanks to all who looked at the code, contributed, suggested and pointed bugs. Three major contributions are from <a href="http://www.cowtowncoder.com/blog/blog.html">cowtowncoder</a> who fixed the <a href="http://stax.codehaus.org/">stax</a> code, <a href="http://www.samsarin.com">Chris Pettitt</a> who added the <a href="http://www.json.org/">json</a> code and <a href="http://github.com/davidB">David Bernard</a> for the xstream and java <a href="http://java.sun.com/j2se/1.3/docs/api/java/io/Externalizable.html">externalizable</a>.
The charts below are displaying the latest results. Note that the charts are scaled to best fit the results and they might be misleading in come cases. If you wish to see the numbers scroll down to the chart at the end of the page. Overall we have benchmarks for [http://code.google.com/p/protobuf/ protobuf], [http://incubator.apache.org/thrift/ thrift], [http://java.sun.com/j2se/1.4.2/docs/api/java/io/Serializable.html java], [http://www.scala-lang.org/ scala], few implementations of [http://stax.codehaus.org/ stax], [http://download.oracle.com/docs/cd/B28359_01/appdev.111/b28394/adx_j_xmlbin.htm binaryxml], [http://www.json.org/java/ json], [http://xstream.codehaus.org/ xstream], [http://javolution.org/ javolution] and [http://code.google.com/p/sbinary/ sbinary].

= Charts =
Including creating an object, serializing and deserializing
<img src='http://chart.apis.google.com/chart?chtt=Total+Time&chf=c||lg||0||FFFFFF||1||76A4FB||0|bg||s||EFEFEF&chs=1000x300&chd=t:2873.25,1021.3000000000001,1484.2,1397.55,1015.9,4883.35,3441.7,22026.05,1920.6,31232.25,8338.099999999999,33911.4,1809.75,1405.3,8751.85&chds=0,16734&chxl=0:|java|thrift|javolution xmlformat|xstream (xpp)|xstream (xpp with conv)|xstream (stax)|stax/woodstox|scala|binaryxml/FI|xstream (stax with conv)|sbinary|protobuf|stax/aalto|json (jackson)|java (externalizable)&lklk&chdlp=t&chco=660000|660033|660066|660099|6600CC|6600FF|663300|663333|663366|663399|6633CC|6633FF|666600|666633|666666&cht=bhg&chbh=10&chxt=y&nonsense=aaa.png'/>

Serializing with a new object each time (object creation time not included)
<img src='http://chart.apis.google.com/chart?chtt=Serialization&chf=c||lg||0||FFFFFF||1||76A4FB||0|bg||s||EFEFEF&chs=1000x300&chd=t:708.8,338.8,573.45,533.6,382.25,1898.2,1662.1,4416.6,745.05,14150.45,2258.75,14039.1,521.45,501.95,1815.15&chds=0,5938&chxl=0:|java|thrift|javolution xmlformat|xstream (xpp)|xstream (xpp with conv)|xstream (stax)|stax/woodstox|scala|binaryxml/FI|xstream (stax with conv)|sbinary|protobuf|stax/aalto|json (jackson)|java (externalizable)&lklk&chdlp=t&chco=660000|660033|660066|660099|6600CC|6600FF|663300|663333|663366|663399|6633CC|6633FF|666600|666633|666666&cht=bhg&chbh=10&chxt=y&nonsense=aaa.png'/>
Most expensive operation
<img src='http://chart.apis.google.com/chart?chtt=Deserialization&chf=c||lg||0||FFFFFF||1||76A4FB||0|bg||s||EFEFEF&chs=1000x300&chd=t:1902.6,422.15,651.35,383.75,412.65,2718.1,1520.45,17420.1,915.35,16822.35,5762.4,19613.5,1017.05,574.3,6680.55&chds=0,10242&chxl=0:|java|thrift|javolution xmlformat|xstream (xpp)|xstream (xpp with conv)|xstream (stax)|stax/woodstox|scala|binaryxml/FI|xstream (stax with conv)|sbinary|protobuf|stax/aalto|json (jackson)|java (externalizable)&lklk&chdlp=t&chco=660000|660033|660066|660099|6600CC|6600FF|663300|663333|663366|663399|6633CC|6633FF|666600|666633|666666&cht=bhg&chbh=10&chxt=y&nonsense=aaa.png'/>

May vary a lot depending on number of repetitions in lists, usage of number compacting in protobuf, strings vs numerics and more. Interesting point is Scala and Java which holds the name of the classes in the serialized form. I.e. longer class names = larger serialized form. In Scala its worse since the Scala compiler creates more implicit classes then java.
<img src='http://chart.apis.google.com/chart?chtt=Serialization+size&chf=c||lg||0||FFFFFF||1||76A4FB||0|bg||s||EFEFEF&chs=1000x300&chd=t:315.0,310.0,406.0,217.0,190.0,325.0,224.0,1950.0,406.0,797.0,287.0,759.0,345.0,314.0,845.0&chds=0,1024&chxl=0:|java|thrift|javolution xmlformat|xstream (xpp)|xstream (xpp with conv)|xstream (stax)|stax/woodstox|scala|binaryxml/FI|xstream (stax with conv)|sbinary|protobuf|stax/aalto|json (jackson)|java (externalizable)&lklk&chdlp=t&chco=660000|660033|660066|660099|6600CC|6600FF|663300|663333|663366|663399|6633CC|6633FF|666600|666633|666666&cht=bhg&chbh=10&chxt=y&nonsense=aaa.png'/>
Object creation, not so meaningful since it takes in average 100 nano to create an object. The surprise comes from <a href="http://code.google.com/p/protobuf/">protobuf</a> which takes a very long time to create an object. Its the only point in this set of benchmarks where it didn't perform as well as <a href="http://incubator.apache.org/thrift/">thrift</a>. Scala (and to a lesser point - java) on the other hand is fast, seems like its a good language to handle in memory data structures but when coming to serialization you might want to check the alternatives.
<img src='http://chart.apis.google.com/chart?chtt=Time+Create&chf=c||lg||0||FFFFFF||1||76A4FB||0|bg||s||EFEFEF&chs=1000x300&chd=t:261.85,260.35,259.4,480.2,221.0,267.05,259.15,189.35,260.2,259.45,316.95,258.8,271.25,329.05,256.15&chds=0,552&chxl=0:|java|thrift|javolution xmlformat|xstream (xpp)|xstream (xpp with conv)|xstream (stax)|stax/woodstox|scala|binaryxml/FI|xstream (stax with conv)|sbinary|protobuf|stax/aalto|json (jackson)|java (externalizable)&lklk&chdlp=t&chco=660000|660033|660066|660099|6600CC|6600FF|663300|663333|663366|663399|6633CC|6633FF|666600|666633|666666&cht=bhg&chbh=10&chxt=y&nonsense=aaa.png'/>


= Numbers =
Times in nano sec, size in bytes
{{{
                        ,   Object create,   Serialization, Deserialization,      Total Time, Serialized Size
protobuf                ,       505.08000,      6184.50000,      3783.50000,     10473.08000,        217
thrift                  ,       351.18500,      7028.00000,      5925.00000,     13304.18500,        314
hessian                 ,       262.22500,    340199.50000,     49419.00000,    389880.72500,        463
java                    ,       263.51000,     17173.50000,     67597.50000,     85034.51000,        845
java (externalizable)   ,       265.48500,      8203.00000,     18350.00000,     26818.48500,        315
scala                   ,       212.34000,     40062.00000,    179904.50000,    220178.84000,       1950
json (jackson)          ,       266.55000,      3556.00000,      4280.00000,      8102.55000,        310
stax/woodstox           ,       269.36500,      8022.00000,      9102.50000,     17393.86500,        406
stax/aalto              ,       268.83000,      5937.00000,      6961.50000,     13167.33000,        406
binaryxml/FI            ,       269.35500,     18343.00000,     15843.00000,     34455.35500,        224
xstream (xpp)           ,       267.49000,    116130.50000,    192644.50000,    309042.49000,        759
xstream (xpp with conv) ,       269.80000,     23547.50000,     57395.00000,     81212.30000,        287
xstream (stax)          ,       268.68000,    109074.00000,    163045.50000,    272388.18000,        797
xstream (stax with conv),       268.92500,     18889.50000,     27513.00000,     46671.42500,        325
javolution xmlformat    ,       268.73500,      6821.00000,      9677.50000,     16767.23500,        345
sbinary                 ,       218.17000,      6685.00000,      3728.50000,     10631.67000,        190
}}}